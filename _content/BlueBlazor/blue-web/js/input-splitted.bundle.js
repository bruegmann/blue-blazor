(()=>{"use strict";var t={};function e(t,e,s){i(t,e),e.set(t,s)}function i(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(t,e,i){return t.set(h(t,e),i),i}function n(t,e){return t.get(h(t,e))}function h(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}t.d=(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o=new WeakMap,r=new WeakMap,l=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap,g=new WeakSet;class b extends HTMLElement{get lightDom(){return n(a,this)}set lightDom(t){s(a,this,t),!0===this.lightDom?this.innerHTML=n(v,this):(this.shadowRoot||this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot.innerHTML=n(v,this)),h(g,this,m).call(this)}get value(){return n(u,this)}set value(t){const e=n(u,this);s(u,this,t),s(r,this,this.value.split(""));for(let t=0;t<this.length;t++)n(l,this)[t]&&(n(l,this)[t].value=n(r,this)[t]||"");e!==t&&this.dispatchEvent(new CustomEvent("changeValue",{bubbles:!0,detail:t}))}get length(){return n(c,this)}set length(t){if(s(c,this,t),this.length>n(l,this).length)for(let t=0;t<this.length;t++)!n(l,this)[t]&&this.didInit&&h(g,this,f).call(this,n(l,this).length);else if(this.length<n(l,this).length){const t=Math.abs(n(l,this).length-this.length);for(let e=0;e<t;e++){const t=n(l,this).pop();null==t||t.remove()}}s(l,this,[...n(l,this)])}get controlClass(){return n(d,this)}set controlClass(t){s(d,this,t);for(const t of n(l,this))t.className=this.controlClass}get control1Id(){return n(p,this)}set control1Id(t){s(p,this,t),n(l,this)[0]&&(n(l,this)[0].id=this.control1Id)}constructor(){var t;super(),i(this,t=g),t.add(this),e(this,o,void 0),e(this,r,[]),e(this,l,[]),e(this,a,!1),e(this,u,""),e(this,c,0),e(this,d,""),e(this,p,""),e(this,v,"<style>\n    input {\n        display: var(--blue-input-splitted-display, revert);\n        background-color: var(--blue-input-splitted-background-color, revert);\n        border: var(--blue-input-splitted-border, revert);\n        border-radius: var(--blue-input-splitted-border-radius, revert);\n        box-shadow: var(--blue-input-splitted-box-shadow, revert);\n        color: var(--blue-input-splitted-color, revert);\n        margin: var(--blue-input-splitted-margin, revert);\n        padding: var(--blue-input-splitted-padding, revert);\n        text-align: var(--blue-input-splitted-text-align, revert);\n        width: var(--blue-input-splitted-width, revert);\n    }\n</style>"),function(t,e,i){(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"didInit",!1),this.onFocus=this.onFocus.bind(this)}connectedCallback(){this.didInit=!0,this.lightDom=null!==this.getAttribute("light-dom"),h(g,this,m).call(this),this.value=this.getAttribute("value")||this.value,this.length=k(this),this.controlClass=this.getAttribute("control-class")||this.controlClass,this.control1Id=this.getAttribute("control-1-id")||this.control1Id,h(g,this,w).call(this)}onFocus(){n(l,this)[0]&&n(l,this)[0].focus()}disconnectedCallback(){h(g,this,y).call(this)}static get formAssociated(){return!0}}function f(t){const e=document.createElement("input");n(l,this).push(e),e.type="text",e.className=this.controlClass,0===t&&(e.id=this.control1Id),e.maxLength=1,e.value=n(r,this)[t]||"",e.addEventListener("input",e=>{let{target:i}=e;const s=i;""!==s.value&&n(l,this)[t+1]&&n(l,this)[t+1].focus(),n(r,this)[t]=s.value,this.value=n(r,this).join("")}),e.addEventListener("keydown",e=>{let{key:i,target:s}=e;"Backspace"===i&&""===s.value&&void 0!==n(l,this)[t-1]&&n(l,this)[t-1].focus()}),e.addEventListener("paste",e=>{let{clipboardData:i}=e;const s=i.getData("Text");let h=0;for(let e=t;e<this.length;e++)n(r,this)[e]=s.split("")[h],n(l,this)[e].focus(),h+=1;this.value=n(r,this).join("")}),this.lightDom?this.appendChild(e):this.shadowRoot.appendChild(e)}function m(){this.value=this.getAttribute("value")||"",this.length=k(this),this.lightDom?(this.innerHTML=n(v,this),this.addEventListener("focus",this.onFocus)):(this.shadowRoot.innerHTML=n(v,this),this.shadowRoot.addEventListener("focus",this.onFocus)),s(r,this,this.value.split("")),s(l,this,[]);for(let t=0;t<this.length;t++)h(g,this,f).call(this,t)}function w(){s(o,this,n(o,this)||new MutationObserver(t=>{t.forEach(t=>{"value"===t.attributeName&&(this.value=this.getAttribute("value")||this.value),"length"===t.attributeName&&(this.length=k(this)),"control-class"===t.attributeName&&(this.controlClass=this.getAttribute("control-class")||this.controlClass),"control-1-id"===t.attributeName&&(this.control1Id=this.getAttribute("control-1-id")||this.control1Id),"light-dom"===t.attributeName&&(this.lightDom=null!==this.getAttribute("light-dom"))})})),n(o,this).observe(this,{attributeFilter:["value","length","control-class","control-1-id","light-dom"],attributeOldValue:!0,childList:!0,subtree:!0})}function y(){n(o,this)&&(n(o,this).takeRecords(),n(o,this).disconnect())}function k(t){const e=t.getAttribute("length");if(e)return parseInt(e)}customElements.define("bl-input-splitted",b)})();